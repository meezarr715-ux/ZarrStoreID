<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZarrStoreID | Top Up Game & Pulsa All Operator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@800;900&display=swap">
    <style>
        :root {
            --primary: #6a11cb;
            --secondary: #2575fc;
            --accent: #ff4da6;
            --light: #f8f9fa;
            --dark: #212529;
            --gray: #6c757d;
            --success: #28a745;
            --warning: #ffc107;
            --danger: #dc3545;
            --shadow: rgba(106, 17, 203, 0.15);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #e4edf5 100%);
            color: var(--dark);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        header {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            padding: 1rem 5%;
            box-shadow: 0 4px 12px var(--shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo-img {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: 3px solid white;
            background: white;
            padding: 5px;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .logo-img:hover {
            transform: rotate(5deg);
        }

        .logo h1 {
            font-family: 'Montserrat', sans-serif;
            font-weight: 900;
            font-size: 1.8rem;
            letter-spacing: 1px;
        }

        .logo span {
            color: var(--accent);
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        nav a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            font-size: 1.1rem;
            padding: 8px 12px;
            border-radius: 30px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        nav a:hover, nav a.active {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        main {
            flex: 1;
            max-width: 1400px;
            width: 100%;
            margin: 2rem auto;
            padding: 0 5%;
        }

        section {
            background: white;
            border-radius: 20px;
            padding: 2.5rem;
            margin-bottom: 2.5rem;
            box-shadow: 0 10px 30px var(--shadow);
            display: none;
            animation: fadeIn 0.5s ease;
        }

        section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-title {
            font-family: 'Montserrat', sans-serif;
            color: var(--primary);
            margin-bottom: 1.5rem;
            padding-bottom: 15px;
            border-bottom: 3px solid var(--secondary);
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .sync-status {
            position: fixed;
            top: 80px;
            right: 20px;
            z-index: 999;
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 15px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            font-size: 0.85rem;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .sync-status.connected {
            border-left: 4px solid var(--success);
        }

        .sync-status.disconnected {
            border-left: 4px solid var(--danger);
        }

        .sync-status.syncing {
            border-left: 4px solid var(--warning);
        }

        .sync-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            display: inline-block;
        }

        .sync-dot.connected {
            background: var(--success);
            animation: pulse 2s infinite;
        }

        .sync-dot.disconnected {
            background: var(--danger);
        }

        .sync-dot.syncing {
            background: var(--warning);
            animation: blink 1s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        .hero {
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 3rem;
            margin-top: 1rem;
        }

        .profile-section {
            flex: 1;
            min-width: 300px;
            text-align: center;
        }

        .profile-img {
            width: 250px;
            height: 250px;
            border-radius: 50%;
            object-fit: cover;
            border: 8px solid white;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            margin-bottom: 1.5rem;
            transition: transform 0.5s ease;
        }

        .profile-img:hover {
            transform: scale(1.03);
        }

        .profile-section h2 {
            font-size: 2.2rem;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        .profile-section p {
            color: var(--gray);
            font-size: 1.1rem;
        }

        .welcome-section {
            flex: 2;
            min-width: 300px;
        }

        .welcome-card {
            background: linear-gradient(135deg, #f8f9ff 0%, #f0f4ff 100%);
            padding: 2.5rem;
            border-radius: 20px;
            border-left: 6px solid var(--secondary);
        }

        .welcome-card h2 {
            font-size: 2.5rem;
            color: var(--dark);
            margin-bottom: 1.5rem;
        }

        .welcome-card h2 span {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .guide-steps {
            margin-top: 2rem;
        }

        .step {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 1.5rem;
            padding: 1.2rem;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease;
        }

        .step:hover {
            transform: translateX(10px);
        }

        .step-number {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .product-filters {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 2.5rem;
        }

        .filter-btn {
            padding: 10px 25px;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 30px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            outline: none;
        }

        .filter-btn:hover, .filter-btn.active {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            border-color: transparent;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
        }

        .product-card {
            background: white;
            border-radius: 18px;
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
            transition: all 0.4s ease;
            border: 1px solid #f0f0f0;
            position: relative;
        }

        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px var(--shadow);
        }

        .product-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--accent);
            color: white;
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 0.75rem;
            font-weight: 600;
            z-index: 2;
            animation: badgePop 0.5s ease;
        }

        @keyframes badgePop {
            0% { transform: scale(0); opacity: 0; }
            70% { transform: scale(1.2); opacity: 1; }
            100% { transform: scale(1); opacity: 1; }
        }

        .product-img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-bottom: 1px solid #f0f0f0;
            transition: transform 0.5s ease;
        }

        .product-card:hover .product-img {
            transform: scale(1.05);
        }

        .product-content {
            padding: 1.5rem;
        }

        .product-category {
            display: inline-block;
            background: rgba(106, 17, 203, 0.1);
            color: var(--primary);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
            margin-bottom: 10px;
        }

        .product-title {
            font-size: 1.3rem;
            color: var(--dark);
            margin-bottom: 10px;
            min-height: 60px;
        }

        .product-price {
            color: var(--secondary);
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .product-desc {
            color: var(--gray);
            font-size: 0.95rem;
            margin-bottom: 1.5rem;
            min-height: 45px;
        }

        .product-actions {
            display: flex;
            gap: 10px;
        }

        .btn {
            padding: 12px 25px;
            border-radius: 10px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-size: 14px;
            outline: none;
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn-detail {
            flex: 2;
            background: #f0f4ff;
            color: var(--secondary);
        }

        .btn-buy {
            flex: 1;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(0, 0, 0, 0.1);
        }

        .payment-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2.5rem;
        }

        .order-summary {
            background: #f8f9ff;
            padding: 2rem;
            border-radius: 20px;
            border: 2px dashed #cce7ff;
        }

        .order-item {
            display: flex;
            justify-content: space-between;
            padding: 1rem 0;
            border-bottom: 1px solid #eaeaea;
        }

        .order-total {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
            margin-top: 1.5rem;
            text-align: right;
        }

        .payment-methods {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .payment-option {
            background: white;
            border: 2px solid #eaeaea;
            border-radius: 15px;
            padding: 1.5rem;
            display: flex;
            align-items: center;
            gap: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .payment-option:hover, .payment-option.selected {
            border-color: var(--secondary);
            background: #f0f7ff;
        }

        .payment-icon {
            font-size: 2.5rem;
            width: 70px;
            height: 70px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .dana { background: #008BFF; }
        .gopay { background: #00AA13; }
        .ovo { background: #4C2A86; }
        .qris { background: #FF6B00; }

        .payment-info h4 {
            margin-bottom: 8px;
            color: var(--dark);
        }

        .payment-info p {
            color: var(--gray);
            font-size: 0.95rem;
        }

        .payment-number {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin-top: 10px;
            font-family: monospace;
            font-size: 1.1rem;
            text-align: center;
            cursor: pointer;
            position: relative;
        }

        .payment-number:hover {
            background: #e9ecef;
        }

        .copy-notification {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--primary);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.8rem;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .copy-notification.show {
            opacity: 1;
        }

        .qr-container {
            text-align: center;
            padding: 1rem;
            background: white;
            border-radius: 15px;
            margin-top: 1rem;
            border: 2px dashed #e0e0e0;
        }

        .qr-image {
            width: 200px;
            height: 200px;
            object-fit: contain;
            margin: 0 auto 1rem;
            display: block;
            border-radius: 10px;
            border: 1px solid #eee;
        }

        .btn-pay {
            width: 100%;
            padding: 18px;
            font-size: 1.2rem;
            margin-top: 2rem;
            background: linear-gradient(to right, #00b09b, #96c93d);
            color: white;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 2.5rem;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--gray);
            cursor: pointer;
            z-index: 1;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark);
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--secondary);
        }

        /* CAPTCHA Styles */
        .captcha-container {
            margin: 1.5rem 0;
            padding: 1.5rem;
            background: #f8f9fa;
            border-radius: 15px;
            border: 2px dashed #dee2e6;
        }

        .captcha-box {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 1rem;
        }

        .captcha-text {
            font-family: 'Courier New', monospace;
            font-size: 1.8rem;
            font-weight: bold;
            letter-spacing: 5px;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            padding: 10px 20px;
            border-radius: 10px;
            background-color: #f8f9ff;
            border: 2px solid var(--secondary);
            user-select: none;
            text-align: center;
            flex: 1;
        }

        .captcha-controls {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .captcha-controls button {
            padding: 8px 15px;
            border: none;
            border-radius: 8px;
            background: var(--secondary);
            color: white;
            cursor: pointer;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: all 0.3s ease;
        }

        .captcha-controls button:hover {
            background: var(--primary);
            transform: translateY(-2px);
        }

        .captcha-input {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .captcha-input input {
            flex: 1;
            padding: 12px 15px;
            border: 2px solid #dee2e6;
            border-radius: 10px;
            font-size: 1.1rem;
            letter-spacing: 2px;
            text-align: center;
            font-weight: bold;
        }

        .captcha-input input:focus {
            border-color: var(--primary);
            outline: none;
        }

        .captcha-status {
            margin-top: 10px;
            font-size: 0.9rem;
            text-align: center;
            min-height: 25px;
        }

        .captcha-status.success {
            color: var(--success);
        }

        .captcha-status.error {
            color: var(--danger);
        }

        .robot-verification {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin: 1.5rem 0;
            border: 2px solid #e9ecef;
        }

        .robot-checkbox {
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            user-select: none;
        }

        .robot-checkbox input[type="checkbox"] {
            display: none;
        }

        .robot-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            background: #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: var(--gray);
            border: 2px solid #dee2e6;
            transition: all 0.3s ease;
        }

        .robot-checkbox.checked .robot-icon {
            background: var(--success);
            color: white;
            border-color: var(--success);
        }

        .robot-text {
            font-weight: 500;
            color: var(--dark);
        }

        .btn-whatsapp {
            width: 100%;
            padding: 18px;
            font-size: 1.2rem;
            background: linear-gradient(to right, #25D366, #128C7E);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin-top: 1.5rem;
            transition: all 0.3s ease;
        }

        .btn-whatsapp:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(37, 211, 102, 0.3);
        }

        .btn-whatsapp:disabled {
            background: #6c757d;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* Admin Panel Styles */
        .admin-panel {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 3000;
            align-items: center;
            justify-content: center;
        }

        .admin-modal {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            max-width: 800px;
            width: 95%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--secondary);
        }

        .admin-header h2 {
            color: var(--primary);
        }

        .admin-form .form-group {
            margin-bottom: 1.2rem;
        }

        .admin-form label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: var(--dark);
        }

        .admin-form input,
        .admin-form select,
        .admin-form textarea {
            width: 100%;
            padding: 10px 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
        }

        .admin-form textarea {
            height: 80px;
            resize: vertical;
        }

        .btn-admin {
            padding: 12px 25px;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
            margin-top: 1rem;
        }

        .btn-admin:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px var(--shadow);
        }

        /* SUPPORTER STYLE */
        .supporter {
            background: white;
            padding: 10px 20px;
            border-radius: 30px;
            font-size: 0.9rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            cursor: default;
            user-select: none;
            transition: all 0.3s ease;
            display: inline-block;
            margin: 5px;
            border: 1px solid #f0f0f0;
            color: #555;
            font-weight: 400;
        }

        .supporter.developer-hidden {
            background: white !important;
            color: #555 !important;
            border: 1px solid #f0f0f0 !important;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05) !important;
            cursor: default !important;
        }

        .supporter:hover {
            background: #f8f9fa !important;
            transform: translateY(-2px) !important;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1) !important;
        }

        .supporter.developer-hidden:hover {
            background: #f8f9fa !important;
            transform: translateY(-2px) !important;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1) !important;
        }

        .supporter.developer-hidden:active {
            transform: translateY(0) !important;
        }

        .product-list-item {
            padding: 10px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .product-list-item:last-child {
            border-bottom: none;
        }

        .product-actions-admin {
            display: flex;
            gap: 5px;
        }

        .btn-edit {
            background: #ffc107;
            color: #000;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
        }

        .btn-delete {
            background: #dc3545;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
        }

        .export-section {
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 2px dashed #e0e0e0;
        }

        .btn-export {
            background: #17a2b8;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            margin-top: 10px;
            margin-right: 10px;
            font-size: 14px;
        }

        .history-container {
            overflow-x: auto;
        }

        .history-table {
            width: 100%;
            border-collapse: collapse;
            min-width: 800px;
        }

        .history-table th, .history-table td {
            padding: 1.2rem 1rem;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        .history-table th {
            background: #f8f9ff;
            color: var(--primary);
            font-weight: 600;
        }

        .history-table tr:hover {
            background: #f9f9ff;
        }

        .status {
            padding: 8px 15px;
            border-radius: 30px;
            font-weight: 500;
            font-size: 0.9rem;
        }

        .status-completed {
            background: #d4edda;
            color: #155724;
        }

        .status-pending {
            background: #fff3cd;
            color: #856404;
        }

        .status-processing {
            background: #d1ecf1;
            color: #0c5460;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .info-card {
            background: #f8f9ff;
            padding: 2rem;
            border-radius: 18px;
            border-left: 5px solid var(--secondary);
        }

        /* Kontak Kami */
        .contact-info div {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 1.2rem;
        }

        .contact-info i {
            width: 50px;
            height: 50px;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            transition: transform 0.3s ease;
            flex-shrink: 0;
        }

        .contact-info i:hover {
            transform: scale(1.1);
        }

        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 2rem;
            flex-wrap: wrap;
        }

        .social-links a {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.3rem;
            text-decoration: none;
            transition: transform 0.3s ease;
            flex-shrink: 0;
        }

        .social-links a:hover {
            transform: translateY(-5px) scale(1.1);
        }

        .wa { background: #25D366; }
        .ig { background: #E4405F; }
        .tiktok { background: #000000; }

        .supporters {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 1rem;
            justify-content: flex-start;
        }

        .floating-wa {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: linear-gradient(to right, #25D366, #128C7E);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            box-shadow: 0 10px 25px rgba(37, 211, 102, 0.3);
            z-index: 100;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .floating-wa:hover {
            transform: scale(1.1);
            box-shadow: 0 15px 30px rgba(37, 211, 102, 0.4);
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 1rem 1.5rem;
            border-radius: 10px;
            color: white;
            font-weight: 500;
            z-index: 3000;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .notification.success {
            background: linear-gradient(to right, #00b09b, #96c93d);
        }

        .notification.error {
            background: linear-gradient(to right, #dc3545, #ff6b6b);
        }

        .notification.info {
            background: linear-gradient(to right, var(--primary), var(--secondary));
        }

        /* Kategori baru untuk produk spesial */
        .category-bot { background: rgba(255, 77, 166, 0.1); color: #ff4da6; }
        .category-editor { background: rgba(37, 117, 252, 0.1); color: #2575fc; }
        
        /* Real-time update animation */
        .new-product {
            animation: highlight 2s ease;
        }
        
        @keyframes highlight {
            0% { box-shadow: 0 0 0 0 rgba(37, 117, 252, 0.7); }
            70% { box-shadow: 0 0 0 20px rgba(37, 117, 252, 0); }
            100% { box-shadow: 0 0 0 0 rgba(37, 117, 252, 0); }
        }
        
        .updated-product {
            animation: pulseHighlight 1.5s ease;
        }
        
        @keyframes pulseHighlight {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }

        /* Fix untuk button click pada mobile */
        @media (hover: none) and (pointer: coarse) {
            .btn, .filter-btn, .payment-option, .btn-export, .btn-admin {
                min-height: 44px;
                min-width: 44px;
                padding: 12px 20px;
            }
            
            .mobile-menu-btn {
                min-height: 44px;
                min-width: 44px;
            }
            
            /* Prevent text selection on tap */
            .btn, .filter-btn, .payment-option {
                -webkit-tap-highlight-color: transparent;
                user-select: none;
            }
            
            /* Better touch feedback */
            .btn:active, .filter-btn:active, .payment-option:active {
                transform: scale(0.98);
                transition: transform 0.1s;
            }
        }

        /* Fix untuk iOS Safari */
        @supports (-webkit-touch-callout: none) {
            .btn, .filter-btn, .payment-option {
                cursor: pointer;
            }
            
            input, select, textarea {
                font-size: 16px !important; /* Prevent zoom on focus in iOS */
            }
        }

        /* Fix untuk Chrome Android */
        @media screen and (-webkit-min-device-pixel-ratio: 0) {
            .btn, .filter-btn, .payment-option {
                -webkit-appearance: none;
                appearance: none;
            }
        }

        /* Ensure all clickable elements have proper cursor */
        .btn, .filter-btn, .payment-option, .modal-close, .btn-export, 
        .btn-admin, .btn-edit, .btn-delete, .payment-number {
            cursor: pointer !important;
        }

        /* Prevent button text selection */
        .btn, .filter-btn {
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .mobile-menu-btn {
                display: block;
                position: absolute;
                top: 1.5rem;
                right: 5%;
                z-index: 1001;
            }
            
            nav {
                display: none;
                width: 100%;
                margin-top: 1rem;
            }
            
            nav.active {
                display: block;
            }
            
            nav ul {
                flex-direction: column;
                gap: 0.5rem;
            }
            
            .product-actions {
                flex-direction: column;
            }
            
            .btn-detail, .btn-buy {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- Sync Status Indicator -->
    <div id="syncStatus" class="sync-status" style="display: none;">
        <span class="sync-dot"></span>
        <span id="syncText">Menyinkronkan...</span>
        <i class="fas fa-sync" id="syncIcon"></i>
    </div>

    <header>
        <div class="header-container">
            <div class="logo">
                <img src="https://files.catbox.moe/gua633.jpg" alt="ZarrStoreID Logo" class="logo-img" onerror="this.src='https://via.placeholder.com/150/6a11cb/FFFFFF?text=ZS'">
                <h1>Zarr<span>Store</span>ID</h1>
            </div>
            
            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </button>
            
            <nav id="mainNav">
                <ul>
                    <li><a href="#" class="nav-link active" data-target="beranda"><i class="fas fa-home"></i> Beranda</a></li>
                    <li><a href="#" class="nav-link" data-target="produk"><i class="fas fa-gamepad"></i> Produk</a></li>
                    <li><a href="#" class="nav-link" data-target="payment"><i class="fas fa-credit-card"></i> Payment</a></li>
                    <li><a href="#" class="nav-link" data-target="riwayat"><i class="fas fa-history"></i> Riwayat</a></li>
                    <li><a href="#" class="nav-link" data-target="informasi"><i class="fas fa-info-circle"></i> Informasi</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <section id="beranda" class="active">
            <h2 class="section-title"><i class="fas fa-star"></i> Selamat Datang di ZarrStoreID</h2>
            <div class="hero">
                <div class="profile-section">
                    <img src="https://files.catbox.moe/vhjccr.jpg" alt="Profil ZarrStoreID" class="profile-img" onerror="this.src='https://via.placeholder.com/300/6a11cb/FFFFFF?text=Zarr+Store'">
                    <h2>ZarrStoreID</h2>
                    <p>Top Up Game & Pulsa All Operator Terpercaya</p>
                    <div style="margin-top: 1rem; font-size: 0.9rem; color: var(--success);">
                        <i class="fas fa-sync-alt"></i> <span id="onlineCount">0</span> pengguna online
                    </div>
                </div>
                
                <div class="welcome-section">
                    <div class="welcome-card">
                        <h2>Halo Gamers! <span>Selamat Datang</span></h2>
                        <p>ZarrStoreID adalah toko online terpercaya untuk top up semua game favorit dan isi pulsa/kuota semua operator di Indonesia. Proses cepat, aman, dan harga terjangkau!</p>
                        
                        <div class="guide-steps">
                            <h3 style="color: var(--primary); margin-bottom: 1.5rem;">Cara Order Mudah:</h3>
                            
                            <div class="step">
                                <div class="step-number">1</div>
                                <div class="step-content">
                                    <h4>Pilih Produk</h4>
                                    <p>Buka menu Produk dan pilih game atau pulsa yang kamu butuhkan</p>
                                </div>
                            </div>
                            
                            <div class="step">
                                <div class="step-number">2</div>
                                <div class="step-content">
                                    <h4>Isi Form Order</h4>
                                    <p>Klik tombol "Beli" dan isi data yang diperlukan</p>
                                </div>
                            </div>
                            
                            <div class="step">
                                <div class="step-number">3</div>
                                <div class="step-content">
                                    <h4>Konfirmasi via WhatsApp</h4>
                                    <p>Pesan akan langsung terkirim ke WhatsApp kami untuk konfirmasi</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="produk">
            <h2 class="section-title"><i class="fas fa-shopping-bag"></i> Produk Top Up & Pulsa</h2>
            
            <div class="product-filters">
                <button class="filter-btn active" data-filter="all">Semua Produk</button>
                <button class="filter-btn" data-filter="game">Game</button>
                <button class="filter-btn" data-filter="pulsa">Pulsa</button>
                <button class="filter-btn" data-filter="kuota">Kuota</button>
                <button class="filter-btn" data-filter="bot">Sewa Bot</button>
                <button class="filter-btn" data-filter="editor">Video Editor</button>
            </div>
            
            <div class="products-grid" id="productsContainer">
                <!-- Produk akan dimuat otomatis oleh JavaScript -->
            </div>
        </section>

        <section id="payment">
            <h2 class="section-title"><i class="fas fa-credit-card"></i> Pembayaran</h2>
            
            <div class="payment-container">
                <div class="order-summary">
                    <h3 style="color: var(--primary); margin-bottom: 1.5rem;">Ringkasan Pesanan</h3>
                    <div class="order-item">
                        <span id="productName">Mobile Legends 86 Diamond</span>
                        <span id="productPrice">Rp 25,000</span>
                    </div>
                    <div class="order-item">
                        <span>Biaya Admin</span>
                        <span>Rp 0</span>
                    </div>
                    <div class="order-item">
                        <strong>Total</strong>
                        <strong class="order-total" id="totalPrice">Rp 25,000</strong>
                    </div>
                    
                    <div style="margin-top: 2rem;">
                        <h4 style="color: var(--dark); margin-bottom: 1rem;">Informasi Pengiriman:</h4>
                        <p>Setelah konfirmasi via WhatsApp dan pembayaran selesai, produk akan dikirim OTOMATIS ke ID game/nomor HP yang Anda berikan dalam waktu 1-5 menit.</p>
                        <p style="margin-top: 10px; color: var(--success);"><i class="fas fa-check-circle"></i> <strong>Sistem pengiriman otomatis 24/7</strong></p>
                    </div>
                </div>
                
                <div class="payment-methods">
                    <h3 style="color: var(--primary); margin-bottom: 1.5rem;">Pilih Metode Pembayaran</h3>
                    
                    <div class="payment-option" data-method="dana">
                        <div class="payment-icon dana">
                            <i class="fas fa-wallet"></i>
                        </div>
                        <div class="payment-info">
                            <h4>DANA</h4>
                            <p>Transfer via DANA</p>
                            <div class="payment-number" data-number="088295039238">
                                088295039238
                                <div class="copy-notification">Copied!</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="payment-option" data-method="gopay">
                        <div class="payment-icon gopay">
                            <i class="fas fa-money-bill-wave"></i>
                        </div>
                        <div class="payment-info">
                            <h4>GOPAY</h4>
                            <p>Transfer via GoPay</p>
                            <div class="payment-number" data-number="088295039238">
                                088295039238
                                <div class="copy-notification">Copied!</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="payment-option" data-method="ovo">
                        <div class="payment-icon ovo">
                            <i class="fas fa-mobile-alt"></i>
                        </div>
                        <div class="payment-info">
                            <h4>OVO</h4>
                            <p>Transfer via OVO</p>
                            <div class="payment-number" data-number="088295039238">
                                088295039238
                                <div class="copy-notification">Copied!</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="payment-option" data-method="qris">
                        <div class="payment-icon qris">
                            <i class="fas fa-qrcode"></i>
                        </div>
                        <div class="payment-info">
                            <h4>QRIS</h4>
                            <p>Scan QR Code untuk pembayaran</p>
                            <div class="qr-container" id="qrisContainer">
                                <p>QR Code akan muncul setelah memilih metode pembayaran</p>
                            </div>
                        </div>
                    </div>
                    
                    <button class="btn btn-pay" id="payButton">
                        <i class="fas fa-lock"></i> Lanjut ke Form Order
                    </button>
                </div>
            </div>
        </section>

        <section id="riwayat">
            <h2 class="section-title"><i class="fas fa-history"></i> Riwayat Transaksi</h2>
            
            <div class="history-container">
                <table class="history-table">
                    <thead>
                        <tr>
                            <th>ID Transaksi</th>
                            <th>Produk</th>
                            <th>Tanggal</th>
                            <th>Total</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="historyTableBody">
                        <!-- Riwayat akan dimuat otomatis oleh JavaScript -->
                    </tbody>
                </table>
            </div>
        </section>

        <section id="informasi">
            <h2 class="section-title"><i class="fas fa-info-circle"></i> Informasi Website</h2>
            
            <div class="info-grid">
                <div class="info-card">
                    <h3 style="color: var(--primary); margin-bottom: 1.5rem;">Kontak Kami</h3>
                    <div class="contact-info">
                        <div>
                            <i class="fas fa-phone-alt"></i>
                            <div>
                                <h4>Telepon / WhatsApp</h4>
                                <p>+62 882-9503-9238</p>
                            </div>
                        </div>
                        <div>
                            <i class="fas fa-envelope"></i>
                            <div>
                                <h4>Email</h4>
                                <p>zaenulenka@gmail.com</p>
                            </div>
                        </div>
                        <div>
                            <i class="fas fa-globe"></i>
                            <div>
                                <h4>Website</h4>
                                <p>zarrstore.my.id</p>
                            </div>
                        </div>
                    </div>
                    
                    <h4 style="color: var(--primary); margin-top: 2rem;">Media Sosial</h4>
                    <div class="social-links">
                        <a href="https://wa.me/6288295039238" class="wa" target="_blank">
                            <i class="fab fa-whatsapp"></i>
                        </a>
                        <a href="https://instagram.com/mee.zarr" class="ig" target="_blank">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="https://tiktok.com/@iki.sizarr" class="tiktok" target="_blank">
                            <i class="fab fa-tiktok"></i>
                        </a>
                    </div>
                </div>
                
                <div class="info-card">
                    <h3 style="color: var(--primary); margin-bottom: 1.5rem;">Collaborator & Support</h3>
                    <p>Terima kasih kepada semua yang telah mendukung ZarrStoreID:</p>
                    
                    <div class="supporters" id="collaboratorsList">
                        <!-- Daftar supporter akan dibuat otomatis -->
                    </div>
                    
                    <div style="margin-top: 2rem;">
                        <h4 style="color: var(--primary); margin-bottom: 1rem;">Jam Operasional</h4>
                        <p><strong>Setiap Hari: Pukul 06.00-22.00 WIB</strong></p>
                        <p>Layanan otomatis tersedia sepanjang waktu</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Modal Order dengan CAPTCHA -->
    <div class="modal" id="orderModal">
        <div class="modal-content">
            <button class="modal-close" id="modalClose">&times;</button>
            <h2 style="color: var(--primary); margin-bottom: 1.5rem;">Form Pemesanan</h2>
            
            <form id="orderForm">
                <div class="form-group">
                    <label for="orderProduct">Produk yang Dipesan</label>
                    <input type="text" id="orderProduct" class="form-control" readonly>
                </div>
                
                <div class="form-group">
                    <label for="orderPrice">Harga</label>
                    <input type="text" id="orderPrice" class="form-control" readonly>
                </div>
                
                <div class="form-group">
                    <label for="customerName">Nama Lengkap *</label>
                    <input type="text" id="customerName" class="form-control" required placeholder="Masukkan nama lengkap">
                </div>
                
                <div class="form-group">
                    <label for="customerPhone">Nomor WhatsApp *</label>
                    <input type="tel" id="customerPhone" class="form-control" required placeholder="Contoh: 081234567890">
                </div>
                
                <div class="form-group">
                    <label for="gameId">ID Game / Nomor HP *</label>
                    <input type="text" id="gameId" class="form-control" required placeholder="Masukkan ID Game atau nomor HP">
                </div>
                
                <div class="form-group">
                    <label for="paymentMethod">Metode Pembayaran *</label>
                    <select id="paymentMethod" class="form-control" required>
                        <option value="">Pilih metode pembayaran</option>
                        <option value="DANA">DANA</option>
                        <option value="GOPAY">GOPAY</option>
                        <option value="OVO">OVO</option>
                        <option value="QRIS">QRIS</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="additionalNotes">Catatan Tambahan</label>
                    <textarea id="additionalNotes" class="form-control" rows="3" placeholder="Keterangan tambahan jika ada"></textarea>
                </div>
                
                <!-- Verifikasi Saya Bukan Robot -->
                <div class="robot-verification">
                    <label class="robot-checkbox" id="robotCheckbox">
                        <input type="checkbox" id="robotCheck">
                        <div class="robot-icon">
                            <i class="fas fa-robot"></i>
                        </div>
                        <span class="robot-text">Saya Bukan Robot</span>
                    </label>
                </div>
                
                <!-- CAPTCHA Container -->
                <div class="captcha-container">
                    <h4 style="color: var(--primary); margin-bottom: 1rem;">Verifikasi Keamanan</h4>
                    <p style="color: var(--gray); font-size: 0.9rem; margin-bottom: 1rem;">
                        Masukkan teks di bawah ini untuk membuktikan bahwa Anda manusia:
                    </p>
                    
                    <div class="captcha-box">
                        <div class="captcha-text" id="captchaText"></div>
                        <div class="captcha-controls">
                            <button type="button" id="refreshCaptcha" title="Refresh CAPTCHA">
                                <i class="fas fa-redo"></i>
                            </button>
                            <button type="button" id="audioCaptcha" title="Audio CAPTCHA">
                                <i class="fas fa-volume-up"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="captcha-input">
                        <input type="text" id="captchaInput" placeholder="Masukkan kode di atas" maxlength="6" autocomplete="off">
                        <button type="button" id="verifyCaptcha">
                            <i class="fas fa-check"></i> Verifikasi
                        </button>
                    </div>
                    
                    <div class="captcha-status" id="captchaStatus"></div>
                </div>
                
                <button type="button" class="btn-whatsapp" id="sendWhatsApp" disabled>
                    <i class="fab fa-whatsapp"></i> Kirim ke WhatsApp
                </button>
            </form>
        </div>
    </div>

    <!-- Admin Panel untuk Developer -->
    <div class="admin-panel" id="adminPanel">
        <div class="admin-modal">
            <div class="admin-header">
                <h2><i class="fas fa-user-secret"></i> Developer Panel - ZarrStoreID</h2>
                <button class="modal-close" id="adminClose">&times;</button>
            </div>
            
            <div style="margin-bottom: 1.5rem; background: #f8f9ff; padding: 1rem; border-radius: 10px;">
                <p style="color: var(--primary); margin-bottom: 0.5rem;">
                    <i class="fas fa-info-circle"></i> <strong>Developer Mode Aktif</strong>
                </p>
                <p style="font-size: 0.9rem; color: var(--gray);">
                    Hanya developer yang bisa mengakses panel ini via pola klik rahasia pada Alya Store.
                </p>
            </div>
            
            <!-- Form Upload Gambar -->
            <div id="imageUploadContainer" style="margin-bottom: 1.5rem; padding: 1rem; background: #f8f9ff; border-radius: 10px;">
                <h4 style="color: var(--primary); margin-bottom: 1rem;">Upload Gambar Produk</h4>
                <div style="display: flex; gap: 10px;">
                    <input type="file" id="imageUpload" accept="image/*" style="flex: 1; padding: 10px; border: 2px dashed var(--secondary); border-radius: 10px; background: white; cursor: pointer;">
                    <button onclick="uploadProductImage()" class="btn-export" style="background: #28a745;">
                        <i class="fas fa-upload"></i> Upload
                    </button>
                </div>
                <div id="uploadPreview" style="margin-top: 1rem;"></div>
            </div>
            
            <!-- Form Tambah Produk -->
            <div id="addProductForm" style="display: block;">
                <h3 style="color: var(--primary); margin-bottom: 1rem;">Tambah/Edit Produk</h3>
                <form id="adminForm" class="admin-form">
                    <div class="form-group">
                        <label for="adminProductName">Nama Produk *</label>
                        <input type="text" id="adminProductName" placeholder="Contoh: Mobile Legends 86 Diamond" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="adminProductCategory">Kategori *</label>
                        <select id="adminProductCategory" required>
                            <option value="">Pilih Kategori</option>
                            <option value="game">Game</option>
                            <option value="pulsa">Pulsa</option>
                            <option value="kuota">Kuota</option>
                            <option value="bot">Sewa Bot</option>
                            <option value="editor">Video Editor</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="adminProductPrice">Harga (Rp) *</label>
                        <input type="number" id="adminProductPrice" placeholder="Contoh: 25000" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="adminProductDescription">Deskripsi Singkat *</label>
                        <textarea id="adminProductDescription" placeholder="Deskripsi maksimal 50 karakter" maxlength="50" required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="adminProductImage">Link Gambar (Catbox) *</label>
                        <input type="url" id="adminProductImage" placeholder="https://files.catbox.moe/gambar.jpg" required>
                    </div>
                    
                    <div style="display: flex; gap: 10px;">
                        <button type="submit" class="btn-admin" style="flex: 1;">
                            <i class="fas fa-save"></i> Simpan Produk
                        </button>
                        <button type="button" class="btn-admin" onclick="resetProductForm()" style="background: #6c757d; flex: 1;">
                            <i class="fas fa-times"></i> Form Baru
                        </button>
                    </div>
                </form>
            </div>
            
            <!-- Pengaturan Toko -->
            <div style="margin-top: 2rem;">
                <h3 style="color: var(--primary); margin-bottom: 1rem;">Pengaturan Toko</h3>
                <form id="settingsForm" class="admin-form">
                    <div class="form-group">
                        <label for="storeName">Nama Toko *</label>
                        <input type="text" id="storeName" value="ZarrStoreID" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="storePhone">Nomor WhatsApp *</label>
                        <input type="text" id="storePhone" value="6288295039238" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="storeQRIS">Link QRIS</label>
                        <input type="url" id="storeQRIS" placeholder="https://files.catbox.moe/qris.jpg">
                    </div>
                    
                    <div class="form-group">
                        <label for="storeLogo">Link Logo Toko</label>
                        <input type="url" id="storeLogo" placeholder="https://files.catbox.moe/logo.jpg">
                    </div>
                    
                    <button type="button" class="btn-admin" onclick="saveStoreSettings()">
                        <i class="fas fa-save"></i> Simpan Pengaturan
                    </button>
                </form>
            </div>
            
            <!-- Daftar Produk -->
            <div style="margin-top: 2rem;">
                <h3 style="color: var(--primary); margin-bottom: 1rem;">Daftar Produk (<span id="productCount">0</span>)</h3>
                <div id="productList" style="max-height: 300px; overflow-y: auto; border: 1px solid #e0e0e0; border-radius: 10px; padding: 1rem;">
                    <!-- Daftar produk akan muncul di sini -->
                </div>
            </div>
            
            <!-- Export/Import Data -->
            <div class="export-section">
                <h4 style="color: var(--primary); margin-bottom: 1rem;">Backup Data</h4>
                <button class="btn-export" onclick="exportProducts()">
                    <i class="fas fa-download"></i> Export Produk
                </button>
                <button class="btn-export" onclick="importProducts()" style="background: #28a745;">
                    <i class="fas fa-upload"></i> Import Produk
                </button>
                <button class="btn-export" onclick="clearAllProducts()" style="background: #dc3545;">
                    <i class="fas fa-trash"></i> Hapus Semua
                </button>
                <input type="file" id="importFile" accept=".json" style="display: none;">
            </div>
            
            <!-- Developer Tools -->
            <div style="margin-top: 2rem; padding: 1rem; background: #f8f9ff; border-radius: 10px;">
                <h4 style="color: var(--primary); margin-bottom: 1rem;"><i class="fas fa-tools"></i> Developer Tools</h4>
                <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                    <button class="btn-export" onclick="addSampleProducts()" style="background: #6f42c1;">
                        <i class="fas fa-magic"></i> Tambah Contoh
                    </button>
                    <button class="btn-export" onclick="checkLocalStorage()" style="background: #17a2b8;">
                        <i class="fas fa-database"></i> Cek Data
                    </button>
                    <button class="btn-export" onclick="clearAllData()" style="background: #dc3545;">
                        <i class="fas fa-broom"></i> Reset All
                    </button>
                </div>
            </div>
            
            <!-- Logout Button -->
            <div style="margin-top: 2rem; text-align: center;">
                <button class="btn-admin" onclick="disableDeveloperMode()" style="background: #6c757d;">
                    <i class="fas fa-power-off"></i> Matikan Developer Mode
                </button>
            </div>
        </div>
    </div>

    <!-- Floating WhatsApp -->
    <a href="https://wa.me/6288295039238?text=Halo%20ZarrStoreID,%20saya%20ingin%20bertanya%20tentang%20produk" class="floating-wa" target="_blank">
        <i class="fab fa-whatsapp"></i>
    </a>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3 id="storeNameFooter">ZarrStoreID</h3>
                <p>Toko online terpercaya untuk top up game dan pulsa semua operator di Indonesia</p>
            </div>
            
            <div class="footer-section">
                <h3>Metode Pembayaran</h3>
                <p>DANA, GOPAY, OVO, QRIS</p>
                <p>Pembayaran aman dan terenkripsi</p>
            </div>
            
            <div class="footer-section">
                <h3>Layanan Pelanggan</h3>
                <p>WhatsApp: +62 882-9503-9238</p>
                <p>Email: zaenulenka@gmail.com</p>
            </div>
        </div>
        
        <div class="copyright">
            <p>&copy; 2023 - <span id="currentYear">2026</span> <span id="storeNameCopyright">ZarrStoreID</span>. zarrstore.my.id. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // ==================== KONFIGURASI TOKO ====================
        const STORE_CONFIG = {
            storeName: "ZarrStoreID",
            phoneNumber: "6288295039238",
            qrisUrl: "https://files.catbox.moe/xxxxxx.png",
            storeLogo: "https://files.catbox.moe/gua633.jpg"
        };

        // ==================== SISTEM SINKRONISASI SIMPLE ====================
        const SYNC_CONFIG = {
            syncUrl: 'https://files.catbox.moe/zarrstore_products.json',
            syncInterval: 10000, // 10 detik
            lastSyncTime: 0,
            onlineUsers: 0
        };

        // ==================== DATA PRODUK ====================
        let products = [
            {
                id: 1,
                name: "Mobile Legends 86 Diamond",
                category: "game",
                price: 25000,
                description: "Diamond MLBB termurah se-Indonesia",
                image: "https://files.catbox.moe/l2o3mh.jpg",
                createdAt: Date.now(),
                updatedAt: Date.now()
            },
            {
                id: 2,
                name: "Free Fire 100 Diamond",
                category: "game",
                price: 30000,
                description: "Diamond FF siap kirim instan",
                image: "https://files.catbox.moe/hqw3n7.jpg",
                createdAt: Date.now(),
                updatedAt: Date.now()
            },
            {
                id: 3,
                name: "XYRAN Premium 1 Bulan",
                category: "game",
                price: 15000,
                description: "Akun premium Xyran terbaru",
                image: "https://files.catbox.moe/lgh3p1.jpg",
                createdAt: Date.now(),
                updatedAt: Date.now()
            }
        ];

        // ==================== DATA COLLABORATOR ====================
        const collaborators = [
            { name: "SabaMart", secret: false },
            { name: "AqilDevv", secret: false },
            { name: "Wanz Preset", secret: false },
            { name: "Vion Shizawa", secret: false },
            { name: "Alya Store", secret: true, developer: true },
            { name: "Mahiro Editz", secret: false },
            { name: "Suzza Preset", secret: false },
            { name: "Xyran", secret: false },
            { name: "BotMaster ID", secret: false },
            { name: "EditorPro", secret: false }
        ];

        // ==================== VARIABEL GLOBAL ====================
        let currentProduct = products[0];
        let selectedPaymentMethod = null;
        let isDeveloperMode = false;
        let currentEditProductId = null;
        let secretClickCount = 0;
        let lastSecretClickTime = 0;
        let secretElement = null;
        let currentCaptcha = '';
        let captchaVerified = false;
        let robotChecked = false;
        let isTouchDevice = false;
        let syncInProgress = false;

        // ==================== FUNGSI UTILITY ====================
        function updateSyncStatus(status, message) {
            const syncStatus = document.getElementById('syncStatus');
            const syncText = document.getElementById('syncText');
            const syncIcon = document.getElementById('syncIcon');
            const syncDot = syncStatus.querySelector('.sync-dot');
            
            if (!syncStatus || !syncText || !syncIcon) return;
            
            syncStatus.style.display = 'flex';
            syncStatus.className = `sync-status ${status}`;
            syncDot.className = `sync-dot ${status}`;
            syncText.textContent = message;
            
            if (status === 'syncing') {
                syncIcon.className = 'fas fa-sync fa-spin';
            } else if (status === 'connected') {
                syncIcon.className = 'fas fa-check';
            } else {
                syncIcon.className = 'fas fa-exclamation-triangle';
            }
            
            if (status !== 'syncing') {
                setTimeout(() => {
                    if (syncStatus.style.display !== 'none') {
                        syncStatus.style.display = 'none';
                    }
                }, 3000);
            }
        }

        function updateOnlineCount(count) {
            const onlineCount = document.getElementById('onlineCount');
            if (onlineCount) {
                onlineCount.textContent = count;
            }
        }

        // ==================== SINKRONISASI SEDERHANA ====================
        async function syncProducts() {
            if (syncInProgress) return;
            syncInProgress = true;
            
            try {
                updateSyncStatus('syncing', 'Menyinkronkan...');
                
                const response = await fetch(SYNC_CONFIG.syncUrl + '?t=' + Date.now());
                if (response.ok) {
                    const data = await response.json();
                    
                    if (data && Array.isArray(data.products)) {
                        // Cek perubahan
                        const oldHash = JSON.stringify(products);
                        const newHash = JSON.stringify(data.products);
                        
                        if (oldHash !== newHash) {
                            products = data.products;
                            saveToLocalStorage();
                            
                            const activeFilter = document.querySelector('.filter-btn.active');
                            if (activeFilter) {
                                renderProducts(activeFilter.getAttribute('data-filter'));
                            }
                            
                            if (document.getElementById('adminPanel').style.display === 'flex') {
                                updateProductList();
                            }
                            
                            if (!isDeveloperMode) {
                                showNotification('Produk diperbarui!', 'info');
                            }
                        }
                    }
                    
                    updateSyncStatus('connected', 'Tersinkron');
                }
            } catch (error) {
                console.log('Sync error:', error);
                updateSyncStatus('disconnected', 'Sync gagal');
            } finally {
                syncInProgress = false;
            }
        }

        async function uploadProducts() {
            if (!isDeveloperMode) {
                showNotification('Hanya developer yang bisa upload!', 'error');
                return false;
            }
            
            try {
                updateSyncStatus('syncing', 'Upload produk...');
                
                // Dalam implementasi real, ini akan upload ke server
                // Untuk demo, kita simpan di localStorage dan simulasi sync
                saveToLocalStorage();
                
                // Simulasi perubahan produk
                SYNC_CONFIG.lastSyncTime = Date.now();
                localStorage.setItem('zarrstore_last_sync', SYNC_CONFIG.lastSyncTime.toString());
                
                updateSyncStatus('connected', 'Produk diupload');
                showNotification(' Produk berhasil disimpan!', 'success');
                
                // Simulasi update ke device lain
                setTimeout(() => {
                    if (Math.random() > 0.5) {
                        showNotification(' Perubahan terkirim ke semua device', 'info');
                    }
                }, 1000);
                
                return true;
            } catch (error) {
                console.error('Upload error:', error);
                updateSyncStatus('disconnected', 'Upload gagal');
                showNotification('Gagal upload produk', 'error');
                return false;
            }
        }

        function setupAutoSync() {
            // Sync setiap 10 detik
            setInterval(() => {
                if (!syncInProgress) {
                    syncProducts();
                }
            }, SYNC_CONFIG.syncInterval);
            
            // Sync saat tab aktif kembali
            document.addEventListener('visibilitychange', () => {
                if (!document.hidden && !syncInProgress) {
                    syncProducts();
                }
            });
            
            // Sync pertama kali
            setTimeout(() => {
                syncProducts();
            }, 2000);
            
            // Update online count (simulasi)
            setInterval(() => {
                const randomCount = Math.floor(Math.random() * 10) + 1;
                updateOnlineCount(randomCount);
            }, 15000);
        }

        // ==================== FUNGSI LOCALSTORAGE ====================
        function loadFromLocalStorage() {
            try {
                const savedProducts = localStorage.getItem('zarrstore_products');
                if (savedProducts) {
                    products = JSON.parse(savedProducts);
                }
                
                const savedConfig = localStorage.getItem('zarrstore_config');
                if (savedConfig) {
                    Object.assign(STORE_CONFIG, JSON.parse(savedConfig));
                }
                
                const savedDevMode = localStorage.getItem('zarrstore_devmode');
                isDeveloperMode = savedDevMode === 'true';
                
                updateUIFromConfig();
            } catch (e) {
                console.error("Error loading from localStorage:", e);
            }
        }

        function saveToLocalStorage() {
            try {
                localStorage.setItem('zarrstore_products', JSON.stringify(products));
                localStorage.setItem('zarrstore_config', JSON.stringify(STORE_CONFIG));
                localStorage.setItem('zarrstore_devmode', isDeveloperMode.toString());
            } catch (e) {
                console.error("Error saving to localStorage:", e);
            }
        }

        function updateUIFromConfig() {
            // Update payment numbers
            const paymentNumbers = document.querySelectorAll('.payment-number');
            paymentNumbers.forEach(el => {
                const number = STORE_CONFIG.phoneNumber.replace('62', '0');
                el.textContent = number;
                el.setAttribute('data-number', number);
            });
            
            // Update store name
            const storeNameFooter = document.getElementById('storeNameFooter');
            const storeNameCopyright = document.getElementById('storeNameCopyright');
            if (storeNameFooter) storeNameFooter.textContent = STORE_CONFIG.storeName;
            if (storeNameCopyright) storeNameCopyright.textContent = STORE_CONFIG.storeName;
            
            // Update floating WhatsApp
            const floatingWA = document.querySelector('.floating-wa');
            if (floatingWA) {
                floatingWA.href = `https://wa.me/${STORE_CONFIG.phoneNumber}?text=Halo%20${encodeURIComponent(STORE_CONFIG.storeName)}%2C%20saya%20ingin%20bertanya%20tentang%20produk`;
            }
            
            // Update admin form jika ada
            const storeNameInput = document.getElementById('storeName');
            const storePhoneInput = document.getElementById('storePhone');
            const storeQRISInput = document.getElementById('storeQRIS');
            const storeLogoInput = document.getElementById('storeLogo');
            
            if (storeNameInput) storeNameInput.value = STORE_CONFIG.storeName;
            if (storePhoneInput) storePhoneInput.value = STORE_CONFIG.phoneNumber;
            if (storeQRISInput) storeQRISInput.value = STORE_CONFIG.qrisUrl;
            if (storeLogoInput) storeLogoInput.value = STORE_CONFIG.storeLogo;
            
            // Update logo
            const logoImg = document.querySelector('.logo-img');
            if (logoImg && STORE_CONFIG.storeLogo) {
                logoImg.src = STORE_CONFIG.storeLogo;
            }
        }

        // ==================== SETUP EVENT LISTENERS ====================
        function setupNavigation() {
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    // Update active class
                    navLinks.forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Show correct section
                    const targetId = this.getAttribute('data-target');
                    document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
                    document.getElementById(targetId).classList.add('active');
                    
                    // Close mobile menu
                    document.getElementById('mainNav').classList.remove('active');
                    updateMobileMenuIcon();
                });
            });
        }

        function setupProductFilters() {
            const filterBtns = document.querySelectorAll('.filter-btn');
            filterBtns.forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    filterBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    const filter = this.getAttribute('data-filter');
                    renderProducts(filter);
                });
            });
        }

        function setupPayment() {
            updateOrderSummary(currentProduct);
            
            const paymentOptions = document.querySelectorAll('.payment-option');
            paymentOptions.forEach(option => {
                option.addEventListener('click', function(e) {
                    e.stopPropagation();
                    
                    paymentOptions.forEach(o => o.classList.remove('selected'));
                    this.classList.add('selected');
                    selectedPaymentMethod = this.getAttribute('data-method');
                    
                    const payButton = document.getElementById('payButton');
                    if (selectedPaymentMethod === 'qris') {
                        payButton.innerHTML = '<i class="fas fa-qrcode"></i> Scan QRIS untuk Bayar';
                        payButton.style.background = 'linear-gradient(to right, #FF6B00, #FF8E00)';
                    } else {
                        payButton.innerHTML = '<i class="fas fa-lock"></i> Lanjut ke Form Order';
                        payButton.style.background = 'linear-gradient(to right, #00b09b, #96c93d)';
                    }
                });
            });
            
            const payButton = document.getElementById('payButton');
            if (payButton) {
                payButton.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    if (!currentProduct) {
                        showNotification('Pilih produk terlebih dahulu!', 'error');
                        return;
                    }
                    
                    if (!selectedPaymentMethod) {
                        showNotification('Pilih metode pembayaran!', 'error');
                        return;
                    }
                    
                    if (selectedPaymentMethod === 'qris') {
                        showQRISModal();
                    } else {
                        openOrderModal(currentProduct);
                    }
                });
            }
        }

        function setupMobileMenu() {
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            if (mobileMenuBtn) {
                mobileMenuBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    const nav = document.getElementById('mainNav');
                    nav.classList.toggle('active');
                    updateMobileMenuIcon();
                });
            }
        }

        function updateMobileMenuIcon() {
            const nav = document.getElementById('mainNav');
            const icon = document.querySelector('#mobileMenuBtn i');
            if (nav && icon) {
                if (nav.classList.contains('active')) {
                    icon.classList.remove('fa-bars');
                    icon.classList.add('fa-times');
                } else {
                    icon.classList.remove('fa-times');
                    icon.classList.add('fa-bars');
                }
            }
        }

        function setupOrderModal() {
            const modal = document.getElementById('orderModal');
            const modalClose = document.getElementById('modalClose');
            
            if (modalClose) {
                modalClose.addEventListener('click', function(e) {
                    e.stopPropagation();
                    modal.style.display = 'none';
                });
            }
            
            if (modal) {
                modal.addEventListener('click', function(e) {
                    if (e.target === modal) {
                        modal.style.display = 'none';
                    }
                });
            }
            
            const sendButton = document.getElementById('sendWhatsApp');
            if (sendButton) {
                sendButton.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    if (currentProduct) {
                        sendOrderToWhatsApp(currentProduct);
                    }
                });
            }
        }

        function setupCopyButtons() {
            const copyButtons = document.querySelectorAll('.payment-number');
            copyButtons.forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    
                    const number = this.getAttribute('data-number');
                    if (navigator.clipboard && navigator.clipboard.writeText) {
                        navigator.clipboard.writeText(number).then(() => {
                            showCopyNotification(this);
                        }).catch(err => {
                            copyToClipboardFallback(number, this);
                        });
                    } else {
                        copyToClipboardFallback(number, this);
                    }
                });
            });
        }

        function copyToClipboardFallback(text, element) {
            const textArea = document.createElement('textarea');
            textArea.value = text;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);
            showCopyNotification(element);
        }

        function showCopyNotification(element) {
            const notification = element.querySelector('.copy-notification');
            if (notification) {
                notification.classList.add('show');
                setTimeout(() => {
                    notification.classList.remove('show');
                }, 2000);
            }
        }

        function setupCollaborators() {
            const container = document.getElementById('collaboratorsList');
            if (!container) return;
            
            container.innerHTML = '';
            
            collaborators.forEach(collab => {
                const supporter = document.createElement('div');
                supporter.className = 'supporter';
                supporter.textContent = collab.name;
                supporter.title = `Supporter: ${collab.name}`;
                
                if (collab.secret && collab.developer) {
                    supporter.classList.add('developer-hidden');
                    secretElement = supporter;
                    supporter.addEventListener('click', handleSecretDeveloperClick);
                }
                
                container.appendChild(supporter);
            });
        }

        function handleSecretDeveloperClick(e) {
            e.stopPropagation();
            
            const currentTime = Date.now();
            if (currentTime - lastSecretClickTime > 2000) {
                secretClickCount = 0;
            }
            
            secretClickCount++;
            lastSecretClickTime = currentTime;
            
            this.style.transform = 'translateY(-2px)';
            setTimeout(() => {
                this.style.transform = '';
            }, 150);
            
            if (secretClickCount >= 3) {
                activateDeveloperMode();
                secretClickCount = 0;
            }
        }

        function setupCaptcha() {
            renderCaptcha();
            
            const refreshBtn = document.getElementById('refreshCaptcha');
            const verifyBtn = document.getElementById('verifyCaptcha');
            const captchaInput = document.getElementById('captchaInput');
            
            if (refreshBtn) {
                refreshBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    renderCaptcha();
                    captchaInput.value = '';
                    document.getElementById('captchaStatus').textContent = '';
                    captchaVerified = false;
                    updateSendButton();
                });
            }
            
            if (verifyBtn) {
                verifyBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    verifyCaptcha();
                });
            }
            
            if (captchaInput) {
                captchaInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        verifyCaptcha();
                    }
                });
            }
        }

        function setupRobotVerification() {
            const checkbox = document.getElementById('robotCheckbox');
            const checkInput = document.getElementById('robotCheck');
            
            if (checkbox) {
                checkbox.addEventListener('click', function(e) {
                    e.stopPropagation();
                    robotChecked = !robotChecked;
                    checkInput.checked = robotChecked;
                    
                    if (robotChecked) {
                        checkbox.classList.add('checked');
                        this.style.background = '#e8f5e9';
                    } else {
                        checkbox.classList.remove('checked');
                        this.style.background = '';
                    }
                    
                    updateSendButton();
                });
            }
        }

        function updateSendButton() {
            const sendButton = document.getElementById('sendWhatsApp');
            if (!sendButton) return;
            
            if (robotChecked && captchaVerified) {
                sendButton.disabled = false;
                sendButton.innerHTML = '<i class="fab fa-whatsapp"></i> Kirim ke WhatsApp';
                sendButton.style.background = 'linear-gradient(to right, #25D366, #128C7E)';
            } else {
                sendButton.disabled = true;
                sendButton.innerHTML = '<i class="fas fa-lock"></i> Selesaikan Verifikasi';
                sendButton.style.background = '#6c757d';
            }
        }

        // ==================== FUNGSI PRODUK ====================
        function getCategoryName(category) {
            const names = { 
                game: 'Game', 
                pulsa: 'Pulsa', 
                kuota: 'Kuota',
                bot: 'Sewa Bot',
                editor: 'Video Editor'
            };
            return names[category] || category;
        }

        function getCategoryClass(category) {
            const classes = {
                bot: 'category-bot',
                editor: 'category-editor'
            };
            return classes[category] || '';
        }

        function getProductImageUrl(product) {
            if (product.image && product.image !== 'auto' && product.image.startsWith('http')) {
                const separator = product.image.includes('?') ? '&' : '?';
                return product.image + separator + 't=' + Date.now();
            }
            
            const productName = encodeURIComponent(product.name.toLowerCase()
                .replace(/[^\w\s]/gi, '')
                .replace(/\s+/g, '-')
                .substring(0, 20));
            
            return `https://via.placeholder.com/300/6a11cb/FFFFFF?text=${productName}&t=${Date.now()}`;
        }

        function renderProducts(filter) {
            const container = document.getElementById('productsContainer');
            if (!container) return;
            
            container.innerHTML = '';
            
            const filteredProducts = filter === 'all' 
                ? products 
                : products.filter(p => p.category === filter);
            
            if (filteredProducts.length === 0) {
                container.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 3rem;">
                        <i class="fas fa-box-open" style="font-size: 3rem; color: var(--gray); margin-bottom: 1rem;"></i>
                        <h3 style="color: var(--gray);">Belum ada produk</h3>
                        <p>Tambahkan produk melalui panel developer</p>
                    </div>
                `;
                return;
            }
            
            filteredProducts.forEach((product, index) => {
                const imageUrl = getProductImageUrl(product);
                const card = document.createElement('div');
                card.className = 'product-card';
                card.style.animationDelay = `${index * 0.05}s`;
                
                const categoryClass = getCategoryClass(product.category);
                card.innerHTML = `
                    <img src="${imageUrl}" alt="${product.name}" class="product-img" 
                         onerror="this.onerror=null; this.src='https://via.placeholder.com/300/6a11cb/FFFFFF?text=${encodeURIComponent(product.name.substring(0, 20))}'">
                    <div class="product-content">
                        <div class="product-category ${categoryClass}">${getCategoryName(product.category)}</div>
                        <h3 class="product-title">${product.name}</h3>
                        <div class="product-price">Rp ${product.price.toLocaleString('id-ID')}</div>
                        <p class="product-desc">${product.description}</p>
                        <div class="product-actions">
                            <button class="btn btn-detail" onclick="showProductDetail(${product.id})">
                                <i class="fas fa-eye"></i> Detail
                            </button>
                            <button class="btn btn-buy" onclick="buyProduct(${product.id})">
                                <i class="fas fa-shopping-cart"></i> Beli
                            </button>
                        </div>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        // ==================== FUNGSI DEVELOPER ====================
        function activateDeveloperMode() {
            isDeveloperMode = true;
            saveToLocalStorage();
            showNotification('Developer mode diaktifkan', 'success');
            setTimeout(() => {
                openAdminPanel();
            }, 500);
        }

        function setupAdminPanel() {
            const adminClose = document.getElementById('adminClose');
            const adminPanel = document.getElementById('adminPanel');
            
            if (adminClose) {
                adminClose.addEventListener('click', function(e) {
                    e.stopPropagation();
                    adminPanel.style.display = 'none';
                });
            }
            
            if (adminPanel) {
                adminPanel.addEventListener('click', function(e) {
                    if (e.target === this) {
                        this.style.display = 'none';
                    }
                });
            }
            
            const adminForm = document.getElementById('adminForm');
            if (adminForm) {
                adminForm.addEventListener('submit', addProduct);
            }
            
            const importFile = document.getElementById('importFile');
            if (importFile) {
                importFile.addEventListener('change', function(e) {
                    const file = e.target.files[0];
                    if (!file) return;
                    
                    const reader = new FileReader();
                    reader.onload = function(event) {
                        try {
                            const imported = JSON.parse(event.target.result);
                            if (Array.isArray(imported)) {
                                products = imported.filter(p => p.id && p.name && p.category && p.price);
                                saveToLocalStorage();
                                renderProducts('all');
                                updateProductList();
                                showNotification(`${products.length} produk diimport!`, 'success');
                            }
                        } catch (error) {
                            showNotification('File tidak valid!', 'error');
                        }
                        e.target.value = '';
                    };
                    reader.readAsText(file);
                });
            }
        }

        function openAdminPanel() {
            if (!isDeveloperMode) return;
            
            document.getElementById('adminPanel').style.display = 'flex';
            updateProductList();
            updateUIFromConfig();
            resetProductForm();
        }

        async function addProduct(event) {
            if (event) event.preventDefault();
            
            const name = document.getElementById('adminProductName').value.trim();
            const category = document.getElementById('adminProductCategory').value;
            const price = parseInt(document.getElementById('adminProductPrice').value);
            const description = document.getElementById('adminProductDescription').value.trim();
            const image = document.getElementById('adminProductImage').value.trim();
            
            if (!name || !category || !price || !description) {
                showNotification('Harap isi semua field wajib!', 'error');
                return;
            }
            
            const imageUrl = image || 'auto';
            const timestamp = Date.now();
            
            if (currentEditProductId) {
                const productIndex = products.findIndex(p => p.id === currentEditProductId);
                if (productIndex !== -1) {
                    products[productIndex] = {
                        ...products[productIndex],
                        name,
                        category,
                        price,
                        description,
                        image: imageUrl,
                        updatedAt: timestamp
                    };
                    showNotification('Produk berhasil diperbarui!', 'success');
                }
                currentEditProductId = null;
            } else {
                const newProduct = {
                    id: products.length > 0 ? Math.max(...products.map(p => p.id)) + 1 : 1,
                    name,
                    category,
                    price,
                    description,
                    image: imageUrl,
                    createdAt: timestamp,
                    updatedAt: timestamp
                };
                
                products.push(newProduct);
                showNotification('Produk berhasil ditambahkan!', 'success');
            }
            
            await uploadProducts();
            
            const activeFilter = document.querySelector('.filter-btn.active');
            if (activeFilter) {
                renderProducts(activeFilter.getAttribute('data-filter'));
            }
            
            updateProductList();
            resetProductForm();
            
            const preview = document.getElementById('uploadPreview');
            if (preview) preview.innerHTML = '';
        }

        async function deleteProduct(id) {
            const product = products.find(p => p.id === id);
            if (!product) return;
            
            if (confirm(`Hapus produk "${product.name}"?`)) {
                products = products.filter(p => p.id !== id);
                await uploadProducts();
                
                const activeFilter = document.querySelector('.filter-btn.active');
                if (activeFilter) {
                    renderProducts(activeFilter.getAttribute('data-filter'));
                }
                
                updateProductList();
                showNotification('Produk berhasil dihapus!', 'success');
            }
        }

        function updateProductList() {
            const container = document.getElementById('productList');
            const countElement = document.getElementById('productCount');
            
            if (!container) return;
            
            container.innerHTML = '';
            if (countElement) countElement.textContent = products.length;
            
            if (products.length === 0) {
                container.innerHTML = '<p style="color: var(--gray); text-align: center;">Belum ada produk</p>';
                return;
            }
            
            products.forEach(product => {
                const item = document.createElement('div');
                item.className = 'product-list-item';
                item.innerHTML = `
                    <div>
                        <strong>${product.name}</strong><br>
                        <small>Rp ${product.price.toLocaleString('id-ID')}  ${getCategoryName(product.category)}</small>
                    </div>
                    <div class="product-actions-admin">
                        <button onclick="editProduct(${product.id})" class="btn-edit">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button onclick="deleteProduct(${product.id})" class="btn-delete">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                container.appendChild(item);
            });
        }

        // ==================== FUNGSI BANTUAN ====================
        function updateOrderSummary(product) {
            if (!product) return;
            
            const productNameEl = document.getElementById('productName');
            const productPriceEl = document.getElementById('productPrice');
            const totalPriceEl = document.getElementById('totalPrice');
            
            if (productNameEl) productNameEl.textContent = product.name;
            if (productPriceEl) productPriceEl.textContent = `Rp ${product.price.toLocaleString('id-ID')}`;
            if (totalPriceEl) totalPriceEl.textContent = `Rp ${product.price.toLocaleString('id-ID')}`;
        }

        function openOrderModal(product) {
            const modal = document.getElementById('orderModal');
            const orderProduct = document.getElementById('orderProduct');
            const orderPrice = document.getElementById('orderPrice');
            
            if (!modal || !orderProduct || !orderPrice) return;
            
            orderProduct.value = product.name;
            orderPrice.value = `Rp ${product.price.toLocaleString('id-ID')}`;
            
            document.getElementById('customerName').value = '';
            document.getElementById('customerPhone').value = '';
            document.getElementById('gameId').value = '';
            document.getElementById('paymentMethod').value = '';
            document.getElementById('additionalNotes').value = '';
            
            renderCaptcha();
            document.getElementById('captchaInput').value = '';
            document.getElementById('captchaStatus').textContent = '';
            captchaVerified = false;
            
            document.getElementById('robotCheck').checked = false;
            document.getElementById('robotCheckbox').classList.remove('checked');
            robotChecked = false;
            
            updateSendButton();
            modal.style.display = 'flex';
        }

        function generateCaptcha() {
            const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZabcdefghjkmnpqrstuvwxyz23456789';
            let captcha = '';
            for (let i = 0; i < 6; i++) {
                captcha += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            currentCaptcha = captcha;
            return captcha;
        }

        function renderCaptcha() {
            const captchaText = document.getElementById('captchaText');
            if (captchaText) {
                captchaText.textContent = generateCaptcha();
            }
        }

        function verifyCaptcha() {
            const input = document.getElementById('captchaInput').value.toUpperCase();
            const status = document.getElementById('captchaStatus');
            
            if (!input) {
                status.textContent = 'Masukkan kode verifikasi';
                status.className = 'captcha-status error';
                return false;
            }
            
            if (input === currentCaptcha.toUpperCase()) {
                status.textContent = ' Verifikasi berhasil!';
                status.className = 'captcha-status success';
                captchaVerified = true;
                updateSendButton();
                return true;
            } else {
                status.textContent = ' Kode tidak sesuai. Coba lagi.';
                status.className = 'captcha-status error';
                captchaVerified = false;
                updateSendButton();
                setTimeout(() => {
                    renderCaptcha();
                    document.getElementById('captchaInput').value = '';
                }, 1000);
                return false;
            }
        }

        function sendOrderToWhatsApp(product) {
            if (!robotChecked) {
                showNotification('Centang "Saya Bukan Robot" terlebih dahulu!', 'error');
                return;
            }
            
            if (!captchaVerified) {
                showNotification('Verifikasi CAPTCHA terlebih dahulu!', 'error');
                return;
            }
            
            const name = document.getElementById('customerName').value.trim();
            const phone = document.getElementById('customerPhone').value.trim();
            const gameId = document.getElementById('gameId').value.trim();
            const paymentMethod = document.getElementById('paymentMethod').value;
            const notes = document.getElementById('additionalNotes').value.trim();
            
            if (!name || !phone || !gameId || !paymentMethod) {
                showNotification('Lengkapi semua field wajib!', 'error');
                return;
            }
            
            const phoneRegex = /^[0-9]{10,13}$/;
            const cleanPhone = phone.replace(/[^0-9]/g, '');
            if (!phoneRegex.test(cleanPhone)) {
                showNotification('Nomor WhatsApp tidak valid!', 'error');
                return;
            }
            
            const message = `Halo ${STORE_CONFIG.storeName}, saya ingin memesan:

 *Produk:* ${product.name}
 *Harga:* Rp ${product.price.toLocaleString('id-ID')}
 *Nama:* ${name}
 *WhatsApp:* ${phone}
 *ID Game/No HP:* ${gameId}
 *Metode Bayar:* ${paymentMethod}
${notes ? ` *Catatan:* ${notes}` : ''}

Saya sudah memesan melalui website. Bagaimana cara melanjutkan pembayaran?`;
            
            const url = `https://wa.me/${STORE_CONFIG.phoneNumber}?text=${encodeURIComponent(message)}`;
            addTransactionHistory(product, name);
            document.getElementById('orderModal').style.display = 'none';
            
            setTimeout(() => {
                window.open(url, '_blank');
            }, 500);
            
            showNotification('Order berhasil! WhatsApp akan terbuka...', 'success');
        }

        function addTransactionHistory(product, customerName) {
            try {
                let history = JSON.parse(localStorage.getItem('zarrstore_history') || '[]');
                
                const newTransaction = {
                    id: `TRX${String(history.length + 1).padStart(3, '0')}`,
                    product: product.name,
                    date: new Date().toISOString().split('T')[0],
                    amount: product.price,
                    customer: customerName,
                    status: 'pending'
                };
                
                history.unshift(newTransaction);
                localStorage.setItem('zarrstore_history', JSON.stringify(history));
                renderTransactionHistory();
            } catch (e) {
                console.error("Error saving transaction:", e);
            }
        }

        function renderTransactionHistory() {
            const history = JSON.parse(localStorage.getItem('zarrstore_history') || '[]');
            const container = document.getElementById('historyTableBody');
            
            if (!container) return;
            
            container.innerHTML = '';
            
            history.slice(0, 10).forEach(transaction => {
                const row = document.createElement('tr');
                const statusClass = `status-${transaction.status}`;
                const statusText = transaction.status === 'completed' ? 'Selesai' : 
                                 transaction.status === 'processing' ? 'Diproses' : 'Menunggu';
                
                row.innerHTML = `
                    <td>${transaction.id}</td>
                    <td>${transaction.product}</td>
                    <td>${transaction.date}</td>
                    <td>Rp ${transaction.amount.toLocaleString('id-ID')}</td>
                    <td><span class="status ${statusClass}">${statusText}</span></td>
                `;
                container.appendChild(row);
            });
            
            if (history.length === 0) {
                container.innerHTML = `
                    <tr>
                        <td colspan="5" style="text-align: center; padding: 2rem; color: var(--gray);">
                            <i class="fas fa-history" style="font-size: 2rem; margin-bottom: 1rem;"></i>
                            <p>Belum ada transaksi</p>
                        </td>
                    </tr>
                `;
            }
        }

        function showQRISModal() {
            const modal = document.getElementById('orderModal');
            const modalContent = modal.querySelector('.modal-content');
            
            modalContent.innerHTML = `
                <button class="modal-close" id="modalClose">&times;</button>
                <h2 style="color: var(--primary); margin-bottom: 1.5rem;">Pembayaran QRIS</h2>
                <div style="text-align: center;">
                    <div style="background: white; padding: 1.5rem; border-radius: 15px; display: inline-block;">
                        <img src="${STORE_CONFIG.qrisUrl}" alt="QRIS ${STORE_CONFIG.storeName}" style="width: 250px; height: 250px; object-fit: contain; border: 1px solid #eee; border-radius: 10px;" onerror="this.src='https://via.placeholder.com/250/FF6B00/FFFFFF?text=QRIS+Error'">
                    </div>
                    <div style="margin-top: 2rem;">
                        <a href="https://wa.me/${STORE_CONFIG.phoneNumber}?text=Halo%20${encodeURIComponent(STORE_CONFIG.storeName)}%2C%20saya%20sudah%20bayar%20via%20QRIS%20untuk%20${encodeURIComponent(currentProduct.name)}" 
                           class="btn-whatsapp" target="_blank">
                            <i class="fab fa-whatsapp"></i> Kirim Bukti Bayar
                        </a>
                    </div>
                </div>
            `;
            
            modal.querySelector('#modalClose').onclick = function() {
                modal.style.display = 'none';
            };
            
            modal.style.display = 'flex';
        }

        function showNotification(message, type) {
            const oldNotification = document.querySelector('.notification');
            if (oldNotification) {
                oldNotification.remove();
            }
            
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
                <span>${message}</span>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                if (notification.parentNode) {
                    document.body.removeChild(notification);
                }
            }, 3000);
        }

        // ==================== FUNGSI LAINNYA ====================
        function showProductDetail(id) {
            const product = products.find(p => p.id === id);
            if (product) {
                alert(`Detail Produk:\n\nNama: ${product.name}\nHarga: Rp ${product.price.toLocaleString('id-ID')}\nKategori: ${getCategoryName(product.category)}\nDeskripsi: ${product.description}`);
            }
        }

        function buyProduct(id) {
            const product = products.find(p => p.id === id);
            if (product) {
                currentProduct = product;
                updateOrderSummary(product);
                openOrderModal(product);
            }
        }

        // ==================== INISIALISASI ====================
        document.addEventListener('DOMContentLoaded', function() {
            initApp();
        });

        function initApp() {
            // Set tahun
            document.getElementById('currentYear').textContent = new Date().getFullYear();
            
            // Load data
            loadFromLocalStorage();
            
            // Setup semua event listeners
            setupNavigation();
            setupProductFilters();
            setupPayment();
            setupMobileMenu();
            setupOrderModal();
            setupCopyButtons();
            setupCollaborators();
            setupCaptcha();
            setupRobotVerification();
            setupAdminPanel();
            
            // Render data
            renderProducts('all');
            renderTransactionHistory();
            updateOrderSummary(currentProduct);
            
            // Setup sync
            setupAutoSync();
            
            showNotification('ZarrStoreID siap digunakan!', 'success');
        }

        // ==================== EXPORT FUNCTIONS ====================
        window.resetProductForm = function() {
            currentEditProductId = null;
            const adminForm = document.getElementById('adminForm');
            if (adminForm) adminForm.reset();
        };

        window.saveStoreSettings = function() {
            const storeName = document.getElementById('storeName').value.trim();
            const storePhone = document.getElementById('storePhone').value.trim();
            const storeQRIS = document.getElementById('storeQRIS').value.trim();
            const storeLogo = document.getElementById('storeLogo').value.trim();
            
            if (!storeName || !storePhone) {
                showNotification('Nama toko dan nomor WhatsApp wajib diisi!', 'error');
                return;
            }
            
            STORE_CONFIG.storeName = storeName;
            STORE_CONFIG.phoneNumber = storePhone;
            STORE_CONFIG.qrisUrl = storeQRIS;
            STORE_CONFIG.storeLogo = storeLogo;
            
            saveToLocalStorage();
            updateUIFromConfig();
            showNotification('Pengaturan toko disimpan!', 'success');
        };

        window.exportProducts = function() {
            const dataStr = JSON.stringify(products, null, 2);
            const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
            const fileName = `${STORE_CONFIG.storeName}-products.json`;
            
            const link = document.createElement('a');
            link.setAttribute('href', dataUri);
            link.setAttribute('download', fileName);
            link.click();
            showNotification('Produk berhasil diexport!', 'success');
        };

        window.importProducts = function() {
            document.getElementById('importFile').click();
        };

        window.clearAllProducts = function() {
            if (confirm('HAPUS SEMUA PRODUK? Tindakan ini tidak bisa dibatalkan!')) {
                products = [];
                saveToLocalStorage();
                renderProducts('all');
                updateProductList();
                showNotification('Semua produk telah dihapus!', 'success');
            }
        };

        window.editProduct = function(id) {
            const product = products.find(p => p.id === id);
            if (!product) return;
            
            currentEditProductId = id;
            document.getElementById('adminProductName').value = product.name;
            document.getElementById('adminProductCategory').value = product.category;
            document.getElementById('adminProductPrice').value = product.price;
            document.getElementById('adminProductDescription').value = product.description;
            document.getElementById('adminProductImage').value = product.image;
        };

        window.deleteProduct = deleteProduct;

        window.addSampleProducts = async function() {
            const sampleProducts = [
                {
                    id: products.length > 0 ? Math.max(...products.map(p => p.id)) + 1 : 1,
                    name: "Mobile Legends 172 Diamond",
                    category: "game",
                    price: 50000,
                    description: "Diamond MLBB siap kirim",
                    image: "auto",
                    createdAt: Date.now(),
                    updatedAt: Date.now()
                },
                {
                    id: (products.length > 0 ? Math.max(...products.map(p => p.id)) + 2 : 2),
                    name: "Free Fire 500 Diamond",
                    category: "game",
                    price: 100000,
                    description: "Diamond FF proses cepat",
                    image: "auto",
                    createdAt: Date.now(),
                    updatedAt: Date.now()
                }
            ];
            
            products.push(...sampleProducts);
            await uploadProducts();
            
            const activeFilter = document.querySelector('.filter-btn.active');
            if (activeFilter) {
                renderProducts(activeFilter.getAttribute('data-filter'));
            }
            updateProductList();
            showNotification('2 produk contoh ditambahkan!', 'success');
        };

        window.checkLocalStorage = function() {
            const totalProducts = products.length;
            const totalHistory = JSON.parse(localStorage.getItem('zarrstore_history') || '[]').length;
            
            alert(`Status Data:\n\nProduk: ${totalProducts} item\nRiwayat: ${totalHistory} transaksi\nDeveloper Mode: ${isDeveloperMode ? 'Aktif' : 'Nonaktif'}\n\nTotal localStorage: ${localStorage.length} item`);
        };

        window.clearAllData = function() {
            if (confirm('RESET SEMUA DATA?\n\nIni akan menghapus semua produk, riwayat, dan pengaturan!\n\nTindakan ini tidak bisa dibatalkan!')) {
                localStorage.clear();
                location.reload();
            }
        };

        window.disableDeveloperMode = function() {
            if (confirm('Matikan Developer Mode?\nAnda akan keluar dari panel admin.')) {
                isDeveloperMode = false;
                secretClickCount = 0;
                saveToLocalStorage();
                document.getElementById('adminPanel').style.display = 'none';
                showNotification('Developer Mode telah dimatikan', 'success');
            }
        };

        window.uploadProductImage = function() {
            const input = document.getElementById('imageUpload');
            const file = input.files[0];
            
            if (!file) {
                showNotification('Pilih gambar terlebih dahulu!', 'error');
                return;
            }
            
            if (file.size > 5 * 1024 * 1024) {
                showNotification('Ukuran gambar maksimal 5MB!', 'error');
                return;
            }
            
            if (!file.type.startsWith('image/')) {
                showNotification('File harus berupa gambar!', 'error');
                return;
            }
            
            try {
                showNotification('Mengupload gambar...', 'info');
                
                const preview = document.getElementById('uploadPreview');
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    preview.innerHTML = `
                        <img src="${e.target.result}" style="max-width: 150px; max-height: 150px; border-radius: 10px; border: 2px solid var(--secondary);">
                        <p style="font-size: 0.9rem; margin-top: 0.5rem;">Preview gambar</p>
                    `;
                };
                reader.readAsDataURL(file);
                
                setTimeout(() => {
                    const productName = document.getElementById('adminProductName').value || 'product';
                    const fileName = productName.toLowerCase()
                        .replace(/[^\w\s]/gi, '')
                        .replace(/\s+/g, '-')
                        .substring(0, 20);
                    
                    const dummyUrl = `https://files.catbox.moe/${fileName}-${Date.now()}.jpg`;
                    document.getElementById('adminProductImage').value = dummyUrl;
                    showNotification('Gambar siap digunakan!', 'success');
                    input.value = '';
                }, 1500);
                
            } catch (error) {
                console.error('Upload error:', error);
                showNotification('Gagal upload gambar: ' + error.message, 'error');
            }
        };
    </script>
</body>
</html>
